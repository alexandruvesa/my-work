!function i(a,s,d){function u(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var r=s[t]={exports:{}};a[t][0].call(r.exports,function(e){return u(a[t][1][e]||e)},r,r.exports,i,a,s,d)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<d.length;e++)u(d[e]);return u}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default={preamp:{enabled:!0},fuse:{enabled:!0},clientVersion:"1.0.0B",coreVersion:"3.17.0"}},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.tagular;document.body?r(t):document.addEventListener("DOMContentLoaded",function(){r(t)})};var o=e("../../utils");function r(t){var n=(0,o.fetchCookie)("cohsn_xs_id");window.addEventListener("message",function(e){"string"==typeof e.data&&(0===e.data.indexOf("COHESION:XS_ID:")?(n=e.data.substr(15),(0,o.setCookie)("cohsn_xs_id",n),t("beam","CrossSiteIdTracked",{"@type":"redventures.usertracking.v2.CrossSiteIdTracked",crossSiteId:n}),t("beam","Identify",{"@type":"core.Identify.v1",anonymousId:window._Cohesion.anonymousId,externalIds:[{collection:"users",encoding:"none",id:n,type:"cross_site_id"}],traits:{}})):"COHESION:XS_UNSUPPORTED"===e.data&&((0,o.setCookie)("cohsn_xs_id","unsupported"),t("beam","CrossSiteIdUnsupported",{"@type":"redventures.usertracking.v2.CrossSiteIdUnsupported"})))},!1);var e=document.createElement("iframe");e.style.display="none",e.src="https://cdn.cohesionapps.com/cohesion/xs1.html"+(n?"?xsid="+n:""),document.body.appendChild(e)}},{"../../utils":45}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function r(e){return setTimeout(e,5)}function i(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:window.document.domain,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:63072e6,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"Lax",i=_Cohesion.cookiePrefix?_Cohesion.cookiePrefix+"_"+e:e,a=0;a=window._Cohesion&&window._Cohesion.cookieExpiry?window._Cohesion.cookieExpiry:"expire"===o?"Thu, 01 Jan 1970 00:00:00 GMT":new Date((new Date).getTime()+o).toGMTString(),document.cookie=i+"="+t+"; expires="+a+"; path=/; domain="+n+"; SameSite="+r+("https:"===window.location.protocol?"; secure":"")}function u(e){var t=document.createElement("a");return t.href=e,{href:t.href,host:t.host||window.location.host,hash:t.hash,hostname:t.hostname||window.location.hostname,pathname:"/"!==t.pathname.charAt(0)?"/"+t.pathname:t.pathname,protocol:t.protocol&&":"!==t.protocol?t.protocol:window.location.protocol,search:t.search,query:t.search.slice(1)}}function a(e){return!(null!=e&&NaN!==e)}function s(e){return Array.isArray(e)?function(e){for(var t=e.length,n=0;n<t;n++){var o=e[n];a(o)?(e.splice(n,1),t-=1,n-=1):s(o)}return e}(e):"object"===(void 0===e?"undefined":o(e))?function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];a(n)?delete e[t]:s(n)}return e}(e):e}n.generateUUID=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},n.delay=r,n.setLocalStorage=function(e,t){try{localStorage.setItem(e,t)}catch(e){return!1}},n.setSessionStorage=function(e,t){try{sessionStorage.setItem(e,t)}catch(e){return!1}},n.fetchCookie=function(e){var t=_Cohesion.cookiePrefix?_Cohesion.cookiePrefix+"_"+e:e,n=new RegExp(t+"=([^;]+)").exec(document.cookie);return null!=n?unescape(n[1]):null},n.setCookie=i,n.deleteCookie=function(e){i(_Cohesion.cookiePrefix?_Cohesion.cookiePrefix+"_"+e:e,"",void 0,"expire")},n.clearHidden=function e(){if(_Preamp.docReady){var t=document.documentElement.className;document.documentElement.className=t.replace(/preampjs/g,"")}else r(e)},n.emit=function(e,t){window._Cohesion&&window._Cohesion.k&&window[window._Cohesion.k].emit(e,t)},n.consoleError=function(e,t){window.console&&window.console.error&&window.console.error(e,t)},n.consoleLog=function(e,t){window.console&&window.console.log&&window.console.log(e,t)},n.parseUrl=u,n.parseQuery=function(e){for(var t=u(e).query.split("&"),n={},o=0;o<t.length;o++)if("string"==typeof t[o]){var r=t[o].split("="),i=d(r,2),a=i[0],s=i[1];n[a]=s}return n},n.scrubInvalids=s,n.DOMReady=function(e){var t=document&&document.documentElement&&document.documentElement.doScroll;"complete"===document.readyState||"loading"!==document.readyState&&!t?e():"function"==typeof document.addEventListener&&document.addEventListener("DOMContentLoaded",e)}},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){function e(t,e){if(!t||-1===r.indexOf(t))return(0,s.consoleError)("Invalid Cohesion event name: "+t);if("function"!=typeof e)return(0,s.consoleError)("Invalid Cohesion event handler for "+t,e);if(u[t])try{e.apply(e,u[t])}catch(e){return(0,s.consoleError)("Event handler for "+t+" failed -",e)}(d[t]=d[t]||[]).push(e)}e.emit=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0],r=t.slice(1),i=d[o]||[];u[o]=r;for(var a=0;i[a];a++)try{i[a].apply(i[a],r)}catch(e){(0,s.consoleError)("Event handler for "+o+" failed -",e)}};for(var t=0;o.q&&t<o.q.length;t++){var n=o.q[t];e(n[0],n[1])}return e};var s=e("../../utils"),o=window[window._Cohesion.k],r=["ready","domReady","preamp:decisionsReceived","preamp:done","preamp:error","fuse:leasesReceived","fuse:error","fuse:done","tagular:initialized","tagular:ready","tagular:newSession","tagular:contextCreated","tagular:eventSent","tagular:eventSucceeded","tagular:eventCompleted"],d={},u={}},{"../../utils":45}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.cohesion;if(!e.globalConfig.fuse.enabled)return!1;var n={};window._Cohesion.fuse&&window._Cohesion.fuse.leases&&(window._Cohesion.fuse.fuseEndpoint?n.fuseEndpoint=window._Cohesion.fuse.fuseEndpoint:n.fuseEndpoint="https://server.fuse.analytics-engine.com");t("tagular:contextCreated",function(){if(!window._Cohesion.fuseInitialized){if(window._Cohesion.fuse=window._Cohesion.fuse||{},window._Cohesion.fuse.endpoint=n.fuseEndpoint,window._Cohesion.fuse.leases){if(window._Cohesion.fuse.leases.constructor!==Array)return(0,a.consoleError)("Fuse leases must be an array");(0,i.default)("run",window._Cohesion.fuse.leases,window._Cohesion.fuse.metadata,window._Cohesion.fuse.callback)}t("ready",function(){(0,i.default)("placeNumbers")}),window._Cohesion.fuseInitialized=!0}})};var o,r=e("../fuse"),i=(o=r)&&o.__esModule?o:{default:o},a=e("../../utils")},{"../../utils":45,"../fuse":14}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("./client")),a=e("../../utils");var o=window[window._Fuse.k],s=document.createElement("style");s.type="text/css",document.head.appendChild(s),s.innerHTML=".fusejs [data-fuse] { opacity: 0; }",document.documentElement.className+=" fusejs",o.q=o.q||[];var d={};function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0];if(i[o]){var r=t.slice(1);i[o].apply(this,r)}else console.error("Invalid Fuse method - "+method)}_Fuse.clientVersion="2.0.0b",window._Fuse.q=o.q,window[window._Cohesion.k]("tagular:ready",function(){window._Fuse.q.forEach(function(e){if("meta"===r(e,1)[0]){var t=r(e,3),n=t[1],o=t[2];if(!n||!o)return(0,a.consoleError)("Invalid metadata for fuse meta method: "+n+": "+o);d[n]=o}else u.apply(this,e)}),delete window._Fuse.q,o=u,window[window._Fuse.k]=o,Object.keys(d).length&&i.meta(d)}),n.default=u},{"../../utils":45,"./client":13}],5:[function(e,t,n){"use strict";var o=p(e("./config")),r=e("../../utils"),i=p(e("./emitter")),a=p(e("./tagular-init")),s=p(e("./setup-events")),d=p(e("./preamp")),u=p(e("./fuse")),c=p(e("./taggy")),l=p(e("./cross-site")),f=p(e("./setup-locals"));function p(e){return e&&e.__esModule?e:{default:e}}window._Cohesion.physicalPageViewed=!1,window.__Cohesion&&window.__Cohesion.initialized?(0,r.consoleError)("Cohesion was previously initialized, please check for duplicate inclusions of the library"):(window.__Cohesion={initialized:!0},function(){try{window[window._Cohesion.k]=(0,i.default)();var e=(0,f.default)(o.default);window._Cohesion.clientVersion=e.globalConfig.clientVersion,window._Cohesion.coreVersion=e.globalConfig.coreVersion,(0,s.default)(e),(0,a.default)(e),(0,d.default)(e),(0,u.default)(e),(0,c.default)(e),(0,l.default)(e)}catch(e){(0,r.consoleError)(e.message)}}())},{"../../utils":45,"./config":1,"./cross-site":2,"./emitter":3,"./fuse":4,"./preamp":6,"./setup-events":9,"./setup-locals":10,"./taggy":11,"./tagular-init":12}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.config,n=e.tagular,o=window._Cohesion.tagular;o.apiKey=t.tagularApiKey,o.sourceKey=t.tagularSourceKey,o.writeKey=t.tagularWriteKey,o.apiHost=t.tagularApiHost,o.apiVersion=t.tagularApiVersion,o.apiKey&&-1!==o.apiKey.indexOf(".")?window._Cohesion.tenantId=o.apiKey.substr(0,o.apiKey.indexOf(".")):window._Cohesion.tenantId=o.apiKey;o.writeKey&&-1!==o.writeKey.indexOf(".")?(window._Cohesion.writeKey=o.writeKey.substr(0,o.writeKey.indexOf(".")),o.writeKey=window._Cohesion.writeKey):window._Cohesion.writeKey=o.writeKey;o.sourceKey&&(window._Cohesion.sourceKey=o.sourceKey);n("initialize",o),n("setupEngagementTracking")}},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(a){var e=a.cohesion,s=a.globalConfig,d=a.tagular;e("ready",function(){for(var e=["_fbc","_fbp","_ga"],t=0;t<e.length;t++){var n=(0,o.fetchCookie)(e[t]);n&&d("beam",{"@type":"redventures.browser.v1alpha.CookieIdentified",key:e[t],value:n})}}),(0,o.DOMReady)(function(){window[window._Cohesion.k].emit("domReady")}),"function"==typeof window.addEventListener&&window.performance&&window.performance.timing&&window.addEventListener("load",function(){d("beam","Dom Completed",{"@type":"redventures.browser.v1alpha2.DomCompleted",performance:(0,r.default)(["connectEnd","connectStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","domainLookupEnd","domainLookupStart","fetchStart","loadEventEnd","loadEventStart","navigationStart","redirectEnd","redirectStart","requestStart","responseEnd","responseStart","secureConnectionStart","unloadEventEnd","unloadEventStart"],window.performance.timing)})});e("tagular:contextCreated",function(){var e=window._Tagular.webContext;window._Cohesion.sessionId=e.sessionId,window._Cohesion.instanceId=e.instanceId,window._Cohesion.webContext=e}),e("tagular:ready",function(){var e=RegExp(/_amp_linker=([^&#]*)/).exec(window.location.search);if(e)for(var t=decodeURIComponent(e[1]).split("*"),n=2;n<t.length;n+=2){var o=t[n];if("id"===o){var r=t[n+1],i=atob(r.replace(/_/g,"/").replace(/-/g,"+").replace(/\./g,"="));d("beam",{"@type":"redventures.usertracking.v1.PartnerAliasCaptured",aliasName:"amp_client_id",value:i});break}}window._Cohesion.anonymousId=window._Tagular.webContext.anonymousId,s.preamp.enabled&&window._Cohesion.preamp&&!window._Preamp.errored||(0,u.default)(a)})};var u=i(e("./ready")),o=e("../../utils"),r=i(e("../../utils/object"));function i(e){return e&&e.__esModule?e:{default:e}}},{"../../utils":45,"../../utils/object":46,"./ready":7}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(n){var o=n.cohesion;if(!n.globalConfig.preamp.enabled)return!1;window._Cohesion.preamp&&window._Cohesion.preamp.siteId&&(window._Cohesion.preamp.endpoint?window._Cohesion.preamp.endpoint=window._Cohesion.preamp.endpoint:window._Cohesion.preamp.apiVersion?window._Cohesion.preamp.endpoint="https://cdn.cohesionapps.com/preamp/api/"+window._Cohesion.preamp.apiVersion:window._Cohesion.preamp.endpoint="https://cdn.cohesionapps.com/preamp/api/v1");o("tagular:contextCreated",function(e){var t=e.autoDecision;_Preamp.clientId||(o("preamp:done",function(){(0,i.default)(n)}),o("preamp:error",function(){(0,i.default)(n)})),!window._Preamp.manual&&window._Cohesion.preamp&&window._Cohesion.preamp.siteId&&t&&(0,r.default)("run",window._Cohesion.preamp.siteId,window._Cohesion.preamp,window._Cohesion.preamp.callback)})};var r=o(e("../preamp")),i=o(e("./ready"));function o(e){return e&&e.__esModule?e:{default:e}}},{"../preamp":21,"./ready":7}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.config,n=e.cohesion,o=t.tagularSourceKey,r={};_Tagular&&_Tagular.config&&_Tagular.config.taggy&&(r=_Tagular.config.taggy);if(!o)return!1;if(!0!==r.enabled)return!1;n("tagular:ready",function(){window.opener&&(window.addEventListener("message",function(e){var t=e.data,n=t.taggy,o=t.token,r=t.env,i=u.includes(e.origin),a=i&&n&&o&&!document.getElementById("taggy-script");if(a){localStorage.setItem("taggyjwt",o);var s=document.createElement("script");s.setAttribute("src",(c[r]||c.PROD)+"/taggy/taggy-app.min.js"),s.setAttribute("type","application/javascript"),s.setAttribute("id","taggy-script"),document.body.appendChild(s);var d=document.createElement("taggy-app");document.body.appendChild(d)}}),window.opener.postMessage({taggy:o},"*")),n("domReady",function(){(0,i.default)("registerEvents",o)})})};var o,r=e("../taggy"),i=(o=r)&&o.__esModule?o:{default:o};var u=["http://localhost:8050","https://admin.development.preamp.io","https://admin.staging.preamp.io","https://admin.preamp.io"],c={LOCAL:"http://localhost:1234",DEV:"https://clients.development.taggy.cohesionapps.com",STAGING:"https://clients.staging.taggy.cohesionapps.com",PROD:"https://clients.taggy.cohesionapps.com"}},{"../taggy":28}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t={};return t.globalConfig=e,t.cohesion=window[window._Cohesion.k],t.tagular=o.default,t.config=(0,r.default)(),t};var o=i(e("../tagular")),r=i(e("./setup-configs"));function i(e){return e&&e.__esModule?e:{default:e}}},{"../tagular":36,"./setup-configs":8}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.cohesion,n=e.tagular;if(!window._Cohesion.physicalPageViewed){window._Cohesion.physicalPageViewed=!0;var o={"@type":"redventures.usertracking.v2.PageViewed",pageName:document.title,newAnonymousId:window._Tagular.newAnonymousId};window.performance&&window.performance.timing&&(o.performance=(0,i.default)(["connectEnd","connectStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","domainLookupEnd","domainLookupStart","fetchStart","loadEventEnd","loadEventStart","navigationStart","redirectEnd","redirectStart","requestStart","responseEnd","responseStart","secureConnectionStart","unloadEventEnd","unloadEventStart"],window.performance.timing)),n("beam","Page Viewed",o),n("setupEngagementTracking"),t.emit("ready")}};var o,r=e("../../utils/object"),i=(o=r)&&o.__esModule?o:{default:o}},{"../../utils/object":46}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e("./initialize"),l=(o=r)&&o.__esModule?o:{default:o},f=e("../../utils");var i=window[window._Preamp.k];function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if("run"===t[0]){var o=window._Cohesion.preamp,r=_Tagular.pageViewIndex&&_Tagular.pageViewHistory?_Tagular.pageViewHistory[_Tagular.pageViewIndex]:void 0,i=_Preamp.clientId&&!_Tagular.pageViewIndex,a=r&&r===_Preamp.virtualPageHash;if(!o)return(0,f.consoleError)("Preamp config missing");if(!o.siteId)return(0,f.consoleError)("Preamp config missing siteId");if(window._Preamp.errored)return(0,f.consoleError)("Cannot run preamp in error state");if(i||a)return(0,f.consoleError)("Preamp's run function may only be called once");var s=t.slice(1);if(_Preamp.clientId=(0,f.generateUUID)(),_Preamp.virtualPageHash=r,"string"!=typeof s[0])return(0,f.consoleError)("Preamp: invalid siteId specified for first parameter");var d=void 0,u=void 0;if(s[1]&&("function"==typeof s[1]?u=s[1]:"object"===c(s[1])&&(d=s[1])),s[2]){if("function"!=typeof s[2]||u)return(0,f.consoleError)("Preamp: invalid callback specified");u=s[2]}(0,l.default)(s[0],d,u)}else console.error("Invalid Preamp method - "+t[0])}_Preamp.clientVersion="3.0.0b",_Preamp.placementIdsProcessed=[],_Preamp.timers={startSpecified:_Preamp.start},_Preamp.times={start:_Preamp.start||new Date,clientStart:new Date,domReadyWait:new Date},i.q=i.q||[];var s=localStorage.getItem("preampError"),d=window._Cohesion&&window._Cohesion.sessionId?window._Cohesion.sessionId:"";!s||s!==d||decodeURI(window.location.href).match(/\?!preamp|exp=/)?(window._Preamp.q=window[window._Preamp.k].q,window._Preamp.q.forEach(function(e){a.apply(this,e)}),delete window._Preamp.q,i=a,window[window._Preamp.k]=i):(_Preamp.errored=!0,(0,f.clearHidden)()),n.default=a},{"../../utils":45,"./initialize":22}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.default=function(e,t){if(!Array.isArray(e)||"object"!==(void 0===t?"undefined":r(t)))return{};for(var n={},o=0;o<e.length;o++)t[e[o]]&&(n[e[o]]=t[e[o]]);return n}},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(localStorage.getItem("cohesion_disable"))throw new Error("Cohesion has been disabled");_Cohesion.cookieTtl&&(_Cohesion.cookieExpiry=(0,o.fetchCookie)("cohsn_cookie_expiry"),_Cohesion.cookieExpiry||(_Cohesion.cookieExpiry=new Date((new Date).getTime()+_Cohesion.cookieTtl).toGMTString(),(0,o.setCookie)("cohsn_cookie_expiry",_Cohesion.cookieExpiry)));var e={tagularApiHost:window._Cohesion.tagular.apiHost};e.tagularApiHost||(window._Cohesion.tagular.apiVersion&&"v1/t"!==window._Cohesion.tagular.apiVersion?e.tagularApiHost="https://ingest.make.rvapps.io/v2/t":e.tagularApiHost="https://make.cohesionapps.com/v1/t");if(window._Cohesion.tagular.apiVersion){var t=RegExp(/(v\d{1}\/\w+)$/);t.test(window._Cohesion.tagular.apiVersion)?(e.tagularApiVersion=window._Cohesion.tagular.apiVersion,e.tagularApiHost=e.tagularApiHost.replace(t,e.tagularApiVersion)):((0,o.consoleError)("Invalid apiVersion specified for the Tagular library - ",window._Cohesion.tagular.apiVersion),e.tagularApiVersion="v1/t")}else e.tagularApiVersion="v1/t";window._Cohesion.tagular.apiKey?(e.tagularApiKey=window._Cohesion.tagular.apiKey,window._Cohesion.tagular.writeKey?(e.tagularWriteKey=window._Cohesion.tagular.writeKey,e.tagularSourceKey=window._Cohesion.tagular.sourceKey):e.tagularWriteKey=window._Cohesion.tagular.apiKey):window._Cohesion.tagular.sourceKey?window._Cohesion.tagular.writeKey?(e.tagularApiKey=window._Cohesion.tagular.sourceKey,e.tagularWriteKey=window._Cohesion.tagular.writeKey,e.tagularSourceKey=window._Cohesion.tagular.sourceKey):(0,o.consoleError)("Invalid Tagular configuration - A writeKey must be provided"):(0,o.consoleError)("Invalid Tagular configuration - A tenantId or sourceKey must be provided");return e};var o=e("../../utils")},{"../../utils":45}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,r=e("./api"),i=(o=r)&&o.__esModule?o:{default:o},a=e("../../utils");function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(i.default[t[0]]){var o=t.slice(1);return i.default[t[0]].apply(this,o)}(0,a.consoleError)("Invalid method - "+t[0])}window._Tagular.clientVersion="6.0.0b",window[window._Tagular.k].q=window[window._Tagular.k].q||[],window[window._Cohesion.k]("tagular:ready",function(){window._Tagular.q.forEach(function(e){s.apply(this,e)}),delete window._Tagular.q}),window._Tagular.q=window[window._Tagular.k].q,window[window._Cohesion.k]("tagular:initialized",function(){window[window._Tagular.k]=s});var d=s;n.default=d},{"../../utils":45,"./api":31}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,r=e("./api"),i=(o=r)&&o.__esModule?o:{default:o},a=e("../../utils");n.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0];if(o){var r=t.slice(1);return i.default[o].apply(this,r)}(0,a.consoleError)("Invalid method - "+t[0])}},{"../../utils":45,"./api":26}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.run=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};l=n,_Fuse.requestId=(0,d.generateUUID)();var o=window._Cohesion&&window._Cohesion.fuse;_Fuse.hooks=o?(_Fuse.cookieDomain=o.cookieDomain,o.hooks||{}):(_Fuse.cookieDomain=void 0,{});var r=(0,d.fetchCookie)("fuseid");r?_Fuse.deviceId=r:(_Fuse.deviceId=(0,d.generateUUID)(),(0,d.setCookie)("fuseid",_Fuse.deviceId,_Fuse.cookieDomain));_Fuse.endpoint=(o?o.endpoint:null)||"https://cdn.cohesionapps.com/fuse";var i=(0,d.fetchCookie)("tglr_ref"),a="none"!==i?i:"",s={leases:e,firstRequestUrl:(0,d.fetchCookie)("tglr_req"),lastRequestUrl:window.location.toString(),userAgent:navigator.userAgent,firstReferrerUrl:a,lastReferrerUrl:window.document.referrer};t&&(s.metadata=t);s=(0,c.attachFuseData)(s),(0,u.default)("_Fuse.hooks.beforeRun",_Fuse.hooks.beforeRun,m,s)},n.meta=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.length;window[window._Cohesion.k]("fuse:done",function(){if(!_Fuse.leaseIds.length)return!1;1===o?"object"!==r(t[0])||Array.isArray(t[0])?console.error("Invalid arguments "+t+" specified for Fuse.meta"):i.meta({metadata:t[0],leaseIds:_Fuse.leaseIds},function(e){if(e)return(0,a.default)(e)}):i.meta({metadata:function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t[0],t[1]),leaseIds:_Fuse.leaseIds},function(e){e&&(0,a.default)(e)})})},n.placeNumbers=function(){window[window._Cohesion.k]("fuse:leasesReceived",function(e){(0,o.default)(_Fuse.leases||e,!1)})};var i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("./services")),o=s(e("./place")),a=s(e("./logError")),d=e("../../utils"),u=s(e("../../utils/hookHandler")),c=e("../../utils/ajax");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){};function f(){if(_Fuse.docReady){var e=document.documentElement.className;document.documentElement.className=e.replace(/fusejs/g,"")}else(0,d.delay)(f)}function p(){if(!_Fuse.success&&!_Fuse.serverResponded){_Fuse.timedOut=!0;var e={error:"Fuse Client Error: request timed out"};(0,a.default)(e),l(e),(0,d.emit)("fuse:error",e),f()}}function m(e){_Fuse.docReady?setTimeout(p,5e3):(document.addEventListener("DOMContentLoaded",function(e){_Fuse.docReady=!0,setTimeout(p,5e3)}),"complete"===document.readyState&&(_Fuse.docReady=!0)),i.getNumbers(e,function(e,t){_Fuse.serverResponded=!0,e&&(0,d.emit)("fuse:error",e),(0,d.emit)("fuse:leasesReceived",t)})}window[window._Cohesion.k]("fuse:done",function(e){l(null,e)}),window[window._Cohesion.k]("fuse:error",function(e){return l(e),(0,a.default)(e)}),window[window._Cohesion.k]("fuse:leasesReceived",function(e){_Fuse.success=!0,_Fuse.leases=e,(0,o.default)(e,!0)})},{"../../utils":45,"../../utils/ajax":42,"../../utils/hookHandler":44,"./logError":15,"./place":16,"./services":17}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,n,e){for(var o=arguments.length,r=Array(3<o?o-3:0),i=3;i<o;i++)r[i-3]=arguments[i];function a(){return e.call.apply(e,[e].concat(r))}if(!n)return a();if("function"!=typeof n)return console.error("Invalid hook specified for "+t+"- not a function"),a();n.status="executing";try{var s=[].concat(r,[function(){return n.status="complete",a()}]);n.apply(n,s)}catch(e){n.status="failed",n.error=e,console.error("Invalid hook execution for "+t+" - "+e)}}},{}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};n.attachFuseData=function(e){var t=window._Fuse,n=t.requestId,o=t.clientVersion,r=t.deviceId,i=t.user;return p(l({},e,{requestId:n,clientVersion:o,deviceId:r,user:i}))},n.get=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];window._Fuse.currentCB=n||function(){},s(window._Fuse.endpoint+"/"+e,{method:"GET",libName:"_Fuse",data:t,credentials:!1},window._Fuse.currentCB)},n.post=function(e,t,n,o,r){window._Preamp.currentCB=r||function(){};var i=window._Preamp.endpoint+"/"+e,a=function(e,t){var n=window._Preamp,o=n.requestId,r=void 0===o?"":o,i=n.clientVersion,a=void 0===i?"":i,s=n.clientId,d=void 0===s?"":s,u=p(l({},e,{requestId:r,clientVersion:a,clientId:d}),t);if(window._Preamp.preview){var c=window._Preamp.preview.split(":")[0];-1===u.webContext.page.url.indexOf(c)&&(u.webContext.page.url+=-1===u.webContext.page.url.indexOf("?")?"?"+c:"&"+c)}return u}(t,n);s(i,{method:"POST",libName:"_Preamp",data:a||{},credentials:o},window._Preamp.currentCB)},n.postJSON=function(e,t,n,o){var r=o.succeeded,i=o.completed;"object"!==(void 0===t?"undefined":u(t))&&(0,c.consoleError)("error: Invalid payload:  Not an Object for "+e);var a=JSON.stringify(t),s=new XMLHttpRequest;if(s.onreadystatechange=function(){if(4===s.readyState){if(i&&i(s),200!==s.status)return(0,c.consoleError)({error:s.status+" for "+e+": "+s.responseText});r&&r(s.response)}},s.open("POST",e,!0),s.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n&&"object"===(void 0===n?"undefined":u(n)))for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&s.setRequestHeader(d,n[d]);s.send(a)};var c=e("./index");function f(e,t,n){var o=document.createElement("script");o.src=e+"?m="+t+"&callback="+n+".currentCB",document.getElementsByTagName("head")[0].appendChild(o)}function p(e,t){var n=t||window._Tagular.webContext,o=n.anonymousId,r=n.sessionId,i=n.instanceId;return l({},e,{anonymousId:o,sessionId:r,instanceId:i,tenantId:_Cohesion.tenantId,writeKey:_Cohesion.writeKey,webContext:window._Tagular.webContext})}function s(e,t,n){var o=t.method,r=t.data,i=t.credentials,a=t.libName,s=encodeURIComponent(JSON.stringify(r)),d=new XMLHttpRequest;if("withCredentials"in d){i&&(d.withCredentials=!0),d.onreadystatechange=function(){4===d.readyState&&(200===d.status?n(null,JSON.parse(d.response||"{}")):0===d.status?f(e,s,a):204!==d.status&&n({error:"Unknown error status code:"+d.status+" for "+e}))};var u=s.length<7500?"?m="+s:"";d.open(o,s?""+e+u:e,!0),"POST"===o?(d.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),d.send("m="+s)):d.send()}else f(e,s,a)}},{"./index":45}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getNumbers=function(e,t){(0,o.get)("public/lease",e,t)},n.confirm=function(e,t){var n=(0,o.attachFuseData)(e);(0,o.get)("public/confirm",n,t)},n.clientError=function(e,t){(0,o.get)("public/clientError",e,t)},n.meta=function(e,t){var n=(0,o.attachFuseData)(e);(0,o.get)("public/meta",n,t)};var o=e("../../utils/ajax")},{"../../utils/ajax":42}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,r){var s=t||[];!function e(){_Fuse.docReady||"complete"===document.readyState?(0,d.default)("_Fuse.hooks.beforePlacement",_Fuse.hooks.beforePlacement,function(){_Fuse.docReady||(_Fuse.docReady=!0),_Fuse.leaseIds=_Fuse.leaseIds||[],s.forEach(function(e){e.leaseId&&-1===_Fuse.leaseIds.indexOf(e.leaseId)&&_Fuse.leaseIds.push(e.leaseId)}),s.leaseIdsProcessed=[];for(var t=document.querySelectorAll("[data-fuse]"),e=function(e){var o=t[e],r=o.getAttribute("data-fuse-format"),i=o.getAttribute("data-fuse-name"),a=o.getAttribute("data-fuse-routing-group");null===r&&(r="###-###-####"),s.forEach(function(e){if(!e.dnis)return!1;if(e.name&&e.name!==i)return!1;if(e.routingGroup&&e.routingGroup!==a)return!1;if("A"===o.nodeName&&o.href&&0===o.href.indexOf("tel:")&&(o.href="tel:"+e.dnis),-1===r.indexOf("#"))return!1;for(var t=0;t<e.dnis.length;t++)-1!==r.indexOf("#")?r=r.replace("#",e.dnis[t]):r+=e.dnis[t];r=r.replace(/#/g,""),o.innerHTML=r;var n="fuse:lease:"+e.leaseId;-1===s.leaseIdsProcessed.indexOf(n)&&s.leaseIdsProcessed.push(n)}),o.style.visibility="visible"},n=0;n<t.length;n++)e(n);var o=document.documentElement.className;document.documentElement.className=o.replace(/fusejs/g,""),s.requestId=_Fuse.requestId,r&&((0,i.confirm)(s,function(){}),(0,a.emit)("fuse:done",s))},t):(0,a.delay)(e)}()};var o,i=e("./services"),a=e("../../utils"),r=e("../../utils/hookHandler"),d=(o=r)&&o.__esModule?o:{default:o}},{"../../utils":45,"../../utils/hookHandler":44,"./services":17}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:i,n=(0,r.attachFuseData)(e);_Fuse.errorCB=i,_Fuse.errored=!0,localStorage.getItem&&localStorage.getItem("fuseDebug")&&console.error(e);var o=document.documentElement.className;document.documentElement.className=o.replace(/fusejs/g,""),(0,r.get)("public/clientError",n,t)};var o=e("../../utils"),r=e("../../utils/ajax");function i(e){localStorage.getItem&&localStorage.getItem("fuseDebug")&&(0,o.consoleError)("Fuse error status:",e)}},{"../../utils":45,"../../utils/ajax":42}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];switch(n.config&&Object.keys(n.config).length||(0,r.consoleError)("Add-on missing config",n),n.type){case"filo":o(n);break;case"routing":i(n);break;default:(0,r.consoleError)("Unknown Add-On Type",n)}}};var r=e("../../utils");function o(e){var t=e.config.contextId;if(t){var n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href="https://static.filo.us.redfoundry.io/"+t+"/css/client.min.css",document.body.appendChild(n);var o=document.createElement("script");o.type="text/javascript",o.src="https://static.filo.us.redfoundry.io/"+t+"/js/client.min.js",document.body.appendChild(o)}else(0,r.consoleError)("Filo add-on missing contextId",e)}function i(e){var t=e.config;t&&window.location.assign(t)}},{"../../utils":45}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,o){var t=window,n=t.location,r=t.navigator,i=t.screen;_Preamp.requestId=(0,C.generateUUID)();var a=(0,C.fetchCookie)("tglr_ref",!1),s="none"!==a?a:"",d={siteId:e.siteId,custom:e.custom||{},request:(0,C.fetchCookie)("tglr_req",!1)||n.href,referrer:s,language:r&&r.language,screen:{height:i.height,width:i.width,colorDepth:i.colorDepth,pixelDepth:i.pixelDepth,orientation:i.orientation&&i.orientation.type},clientTime:(new Date).toString(),newAnonymousId:_Tagular.newAnonymousId||!1,enablePersistence:!0},u=(0,C.fetchCookie)("pmpdid"),c=(0,C.fetchCookie)("tglr_sess_count"),l=I.default.read();l&&(_Preamp.cache=l,d.cache=l);u?(_Preamp.deviceId=u,d.deviceId=u):(_Preamp.deviceId=(0,C.generateUUID)(),d.deviceId=_Preamp.deviceId,(0,C.setCookie)("pmpdid",_Preamp.deviceId,e.cookieDomain));d.isReturnVisitor=!!(c&&1<+c);d.cookies={},e.cookies.forEach(function(e){var t=(0,C.fetchCookie)(e);t&&(d.cookies[e]=t)}),_Preamp.decisionsCB=function(e,t){if(_Preamp.times.decisionEnd=new Date,!t||t.error){var n=t?t.error:"Unknown error occurred";return o(n),!1}o(null,t)},_Preamp.times.decisionStart=new Date;var f=(0,C.fetchCookie)("pmpredir"),p=(0,C.fetchCookie)("pmpredirected");try{f&&(f=JSON.parse(f)),p&&(p=JSON.parse(p));var m=window.location,w=m.href,g=m.origin,h=m.pathname,_=void 0;if(f){var v=f,y=v.route;-1!==y.indexOf("http")&&y===w?_=!0:y===g?_=!0:y===h?_=!0:-1!==w.indexOf(y)&&(_=!0),_&&((0,b.confirmation)(f),(0,C.deleteCookie)("pmpredir"))}d.wasRedirected=!1,window._Cohesion&&p&&(p.sessionId===window._Cohesion.sessionId?d.wasRedirected=!0:((0,C.deleteCookie)("pmpredir"),(0,C.deleteCookie)("pmpredirected")))}catch(e){(0,C.deleteCookie)("pmpredir"),(0,C.deleteCookie)("pmpredirected")}(0,b.decision)(d,_Preamp.decisionsCB)};var o,b=e("./services"),C=e("../../utils"),r=e("../../utils/cache"),I=(o=r)&&o.__esModule?o:{default:o}},{"../../utils":45,"../../utils/cache":43,"./services":25}],43:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e(".");n.default={ls:null,cName:"chsn_dcsn_cache",isLSAvailable:function(){var e="lsTest";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}},read:function(){var e=void 0;return null===this.ls&&(this.ls=this.isLSAvailable()),"string"==typeof(e=!1===this.ls?(0,r.fetchCookie)(this.cName):localStorage.getItem(this.cName))&&(e=JSON.parse(e)),e},write:function(e){var t=e;if("object"===(void 0===e?"undefined":o(e)))try{t=JSON.stringify(e)}catch(e){return console.error("Cache could not be stringified | Cohesion Cache |",e)}return null===this.ls&&(this.ls=this.isLSAvailable()),!1===this.ls?(0,r.setCookie)(this.cName,t):!0===this.ls?localStorage.setItem(this.cName,t):void 0}}},{".":45}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.decision=function(e,t){(0,r.post)("decisions",e,!1,!0,t)},n.confirmation=function(n){var o=n?n.requestId:null;!function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},t=_Preamp.times;t.clientStart&&(_Preamp.timers.preampLoad=t.clientStart-t.start);t.decisionEnd&&(_Preamp.timers.serverResponse=t.decisionEnd-t.decisionStart);t.domReady&&(_Preamp.timers.userWaiting=t.decisionEnd-t.domReady);t.endPlacement&&(_Preamp.timers.placement=t.endPlacement-t.domReady);t.stop&&(_Preamp.timers.total=t.stop-t.start);t.ajaxEnd&&(_Preamp.timers.ajaxTrip=t.ajaxEnd-t.ajaxStart);e()}(function(){var e={requestId:o,decisionId:_Preamp.decisionId,success:!_Preamp.errored,times:_Preamp.times,timers:_Preamp.timers,redirectProcessed:!!n&&n.route,placementIdsProcessed:_Preamp.placementIdsProcessed};(0,i.deleteCookie)("pmpredir");var t=!!n&&n.context;(0,r.post)("confirmation",e,t,!1,_Preamp.confirmation)})},n.clientError=function(e,t){var n=e;n="string"==typeof e?{message:e}:e;(0,r.post)("clientError",n,!1,!1,t)};var r=e("../../utils/ajax"),i=e("../../utils");window._Preamp||(window._Preamp={k:"preamp"},window[window._Preamp.k]||(window[window._Preamp.k]={})),_Preamp.confirmation=function(e){localStorage.getItem("preampDebug")&&(0,i.consoleLog)("Preamp confirmation status:",e)}},{"../../utils":45,"../../utils/ajax":42}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_Preamp.errorCB,n=e instanceof Error?{err:e.message}:e;_Preamp.errored=!0,window._Cohesion&&window._Cohesion.sessionId&&(0,r.setLocalStorage)("preampError",window._Cohesion.sessionId);localStorage.getItem("preampDebug")&&(0,r.consoleError)(e);!function(){localStorage.getItem("preampDebug")&&(0,r.consoleError)(n);(0,o.clientError)(n,t),t()}()};var o=e("./services"),r=e("../../utils");_Preamp.errorCB=function(e){localStorage.getItem("preampDebug")&&(0,r.consoleError)("Preamp error status:",e)}},{"../../utils":45,"./services":25}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],o=t.endpoint,r=t.hooks;!t.siteId&&e&&(t.siteId=e);t.cookies=t.cookies||[],t.cookieDomain=t.cookieDomain,_Preamp.cookieDomain=t.cookieDomain,_Preamp.hooks=r||{},_Preamp.apiVersion=t.apiVersion||"v1",decodeURIComponent(window.document.location.search).match(/(exp|!preamp)/)&&(0,s.storePreview)(document);_Preamp.preview=sessionStorage.getItem("preampPreview")||!1,_Preamp.endpoint=o||"https://cdn.cohesionapps.com/preamp/api/"+_Preamp.apiVersion,_Preamp.preview&&(0,s.launchPreview)(document);n&&(u=n);(0,a.default)("_Preamp.hooks.beforeRun",_Preamp.hooks.beforeRun,h,t)};var l=d(e("./decision")),o=d(e("./placement")),r=d(e("./addOns")),i=d(e("./error-handler")),f=e("./services"),p=e("../../utils"),a=d(e("../../utils/hookHandler")),m=d(e("../../utils/cache")),s=e("./previewHandler");function d(e){return e&&e.__esModule?e:{default:e}}var u=function(){},c=!1;function w(e,t){if(!c){(0,p.clearHidden)(),c=!0;try{u(e,t)}catch(e){(0,i.default)({error:e})}}}function g(){if(!_Preamp.times.decisionEnd){_Preamp.timedOut=!0;(0,p.emit)("preamp:error",{error:"Preamp Client Error: request timed out"})}}function h(e){var t=e.cache,s=e.cookieDomain,n=e.cookies,o=e.custom,r=e.customTimeout,i=e.minTimeout,a=e.maxTimeout,d=e.siteId,u=function(){_Preamp.docReady=!0,_Preamp.times.domReady=new Date,_Preamp.timers.domReady=_Preamp.times.domReady-_Preamp.times.domReadyWait;var e=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3e3,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:5e3;if(e)return e;var o=.33*_Preamp.timers.domReady;return o<t?t:n<o?n:o}(r,i,a);setTimeout(g,e)};_Preamp.docReady?u():(document.addEventListener("DOMContentLoaded",u),"complete"===document.readyState&&(_Preamp.docReady=!0));var c={siteId:d,cache:t,cookieDomain:s,custom:o,cookies:n};(0,l.default)(c,function(e,t){if(t&&t.siteDisabled)return(0,p.consoleLog)("Preamp has been disabled for this site."),(0,p.emit)("preamp:done");if(e||!t)return(0,p.emit)("preamp:error",e||"An unknown error has occured"),(0,f.confirmation)();if(_Preamp.errored)return(0,f.confirmation)();if(t.redirect){var n=t.redirect,o=n.sourceUrlMatch,r=n.route;if(window.location.href.match(o)&&window.location.href!==r){if(window._Cohesion){var i={requestId:_Preamp.requestId,placementId:null,route:r,context:{anonymousId:window._Cohesion.anonymousId,sessionId:window._Cohesion.sessionId,instanceId:window._Cohesion.instanceId,tenantId:window._Cohesion.tenantId},redirectRule:!0},a={assetName:null,audienceName:t.audienceName,experienceNumber:null,placementName:null,redirectRule:!0,sessionId:window._Cohesion.sessionId,testName:null};(0,p.setCookie)("pmpredirected",JSON.stringify(a),s),(0,p.setCookie)("pmpredir",JSON.stringify(i),s)}return void(window.location=r)}}void 0!==t.cache&&m.default.write(t.cache),(0,p.emit)("preamp:decisionsReceived",t)})}window[window._Cohesion.k]("preamp:decisionsReceived",function(e){e.placements&&(0,o.default)(e),e.addOns&&(0,r.default)(e.addOns)}),window[window._Cohesion.k]("preamp:error",function(e){(0,i.default)(e),w(e,null)}),window[window._Cohesion.k]("preamp:done",function(e){w(null,e)})},{"../../utils":45,"../../utils/cache":43,"../../utils/hookHandler":44,"./addOns":18,"./decision":19,"./error-handler":20,"./placement":23,"./previewHandler":24,"./services":25}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(n){_Preamp.times.stop=new Date,_Preamp.decisionId=n.decisionId;var o=window.location.href;!function e(){_Preamp.placementIdsProcessed=[];_Preamp.docReady||"complete"===document.readyState?(0,a.default)("_Preamp.hooks.beforePlacement",_Preamp.hooks.beforePlacement,function(){_Preamp.docReady||(_Preamp.docReady=!0),n.placements.forEach(function(e){e.route&&o.match(e.urlMatch)&&s(e)});var t=document.createElement("style");if(t.type="text/css",document.head.appendChild(t),"v2"===_Preamp.apiVersion)for(var e in n.placements)Object.prototype.hasOwnProperty.call(n.placements,e)&&d(n.placements[e],t);else n.placements.forEach(function(e){d(e,t)});n.placementIdsProcessed=_Preamp.placementIdsProcessed,_Preamp.times.endPlacement=new Date,_Preamp.actions=n,(0,r.confirmation)(),(0,m.emit)("preamp:done",n)},n):(0,m.delay)(e)}()};var o,r=e("./services"),i=e("../../utils/hookHandler"),a=(o=i)&&o.__esModule?o:{default:o},m=e("../../utils");function s(e){function t(e,t){var n=t.indexOf("?");if(n>=0){var o=t.substring(n+1).split("&");for(var r=0;r<o.length;r++){var i=o[r].split("=");var a=document.createElement("INPUT");a.type="hidden";a.name=decodeURIComponent(i[0]);a.value=decodeURIComponent(i[1]);e.appendChild(a)}}}var n=e.assetName,o=e.audienceName,r=e.decisionId,i=e.experienceNumber,a=e.placementId,s=e.route,d=e.testName,u=window._Cohesion.webContext.sessionId;document.body.style.display="none";var c={assetName:n,audienceName:o,experienceNumber:i,decisionId:r,placementId:a,route:s,sessionId:u,testName:d,redirectRule:false},l={requestId:_Preamp.requestId,placementId:null,route:s,context:{anonymousId:window._Cohesion.anonymousId,sessionId:window._Cohesion.sessionId,instanceId:window._Cohesion.instanceId,tenantId:window._Cohesion.tenantId},redirectRule:false};(0,m.setCookie)("pmpredirected",JSON.stringify(c),_Preamp.cookieDomain),(0,m.setCookie)("pmpredir",JSON.stringify(l),_Preamp.cookieDomain),setTimeout(function(){document.body.style.display="block"},2e3);var f=window.location.href,p=document.createElement("FORM");p.action=e.route,t(p,e.route),t(p,f),document.body.appendChild(p),p.submit()}function d(e,t){if(window.location.href.match(e.urlMatch)){var n=!0;e.css&&(t.innerHTML+=e.css);var o=document.querySelectorAll(e.selector);if(0<o.length&&e.html)for(var r=0;r<o.length;r++){var i=o[r];i.innerHTML=e.html,i.style.visibility="visible"}else 0===o.length&&e.html&&(n=e.success=!1);if(e.js){var a=document.createElement("script");a.type="text/javascript",a.innerHTML="(function () {\n        try {\n          "+e.js+"\n        } catch (e) {\n          if (window.console) console.error('Preamp Asset Error - "+e.assetName+" - ', e);\n        }\n      })()",document.body.appendChild(a)}n&&(_Preamp.placementIdsProcessed.push(e.placementId),e.success=!0)}else e.urlMatched=!1,e.success=!1}},{"../../utils":45,"../../utils/hookHandler":44,"./services":25}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};n.storePreview=function(e){var t=new RegExp("(exp|!preamp)=([^&#]*)","i"),n=decodeURIComponent(e.location.search),o=t.exec(n);if(o){var r=(new Date).getTime()+u,i=o[0]+":"+r;(0,d.setSessionStorage)("preampPreview",i)}},n.launchPreview=function(e){var t=_Preamp.preview.split(":"),n=s(t,2),o=n[0],r=n[1],i=(new Date).getTime();if(r<i)sessionStorage.removeItem("preampPreview");else{(0,d.setSessionStorage)("preampPreview",o+":"+(i+u));var a=e.createElement("script");a.src="https://cdn.cohesionapps.com/cohesion/ext/preview.min.js",a.type="application/javascript",e.body.appendChild(a)}};var d=e("../../utils"),u=18e5},{"../../utils":45}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,r=e("./events"),i=(o=r)&&o.__esModule?o:{default:o};n.default={registerEvents:i.default}},{"./events":27}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){w.sourceKey||(w.sourceKey=e,document.body&&(w.unsubscribe=(0,o.default)(document.body,s)))};var d=e("../../utils"),u=r(e("../tagular")),o=r(e("./observer"));function r(e){return e&&e.__esModule?e:{default:e}}function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var w={implementations:[],unsubscribe:null};function i(e,t){var n=!0,o=!1,r=void 0;try{for(var i,a=function(){var e=i.value,n=JSON.parse(JSON.stringify(t.makeSchema.payload));n["@type"]=t.makeSchema.name,e.addEventListener("click",function(e){var t=function(e,t){var n={tagName:"{{elementTagName}}",id:"{{elementId}}",innerText:"{{elementInnerText}}",href:"{{elementHref}}",location:"{{windowLocation}}",uuid:"{{UUID}}"},o=JSON.stringify(e);for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=new RegExp(n[r],"g");switch(n[r]){case n.tagName:o=o.replace(i,t.tagName);break;case n.id:o=o.replace(i,t.id);break;case n.innerText:o=o.replace(i,t.innerText?t.innerText:"");break;case n.href:o=o.replace(i,t.href?t.href:"");break;case n.location:o=o.replace(i,window.location.href);break;case n.uuid:for(;-1!==o.indexOf(n.uuid);)o=o.replace(new RegExp(n[r]),(0,d.generateUUID)())}}return JSON.parse(o)}(n,e.target);(0,u.default)("beam",t,!0,!0)})},s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0)a()}catch(e){o=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw r}}}function a(e){if(w.implementations&&Array.isArray(w.implementations)){var t=!0,n=!1,o=void 0;try{for(var r,i=w.implementations[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value,s=a.target;if(s.selector){for(var d=[],u=document.querySelectorAll(s.selector),c=0;c<u.length;c++){var l=u[c],f=a.matchedElements&&a.matchedElements.includes(l),p=s.innerText&&s.innerText===l.innerText||!s.innerText;!f&&p&&d.push(l)}a.matchedElements=a.matchedElements?[].concat(m(a.matchedElements),d):d,e(d,a)}}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}}}function s(){var e,t,n;w.location!==window.location.href?(w.location=window.location.href,e=w.sourceKey,t=function(e){Array.isArray(e)&&e.length&&(w.implementations=e,a(function(e,t){i(e,t)}))},(n=new XMLHttpRequest).open("GET","https://taggy.cohesionapps.com/implementations/public",!0),n.setRequestHeader("Source-Key",e),n.setRequestHeader("Page-URL",window.location.href),n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n.responseType="json",n.onload=function(){if(200===n.status)try{t(n.response)}catch(e){(0,d.consoleError)("Taggy",e),w.unsubscribe&&w.unsubscribe()}else w.unsubscribe&&w.unsubscribe()},n.send()):a(function(e,t){i(e,t)})}},{"../../utils":45,"../tagular":36,"./observer":29}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../utils");function r(e,t){this.el=e,this.cb=t,this.interval=setInterval(function(){try{this.html!==this.el.innerHTML&&(this.cb(),this.html=this.el.innerHTML)}catch(e){(0,o.consoleError)("Taggy",e),clearInterval(this.interval)}}.bind(this),200),r.prototype.terminate=function(){clearInterval(this.interval)}.bind(this)}n.default=function(e,t){return new r(e,t).terminate}},{"../../utils":45}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getAliasSet=d,n.setAliasQuery=function(e){var t=d();try{for(var n=document.querySelectorAll(e),o=0;o<n.length;o++){var r=n[o];if("A"===r.nodeName){var i=r.href.match(/\?\S+/),a="ref_anon="+t.anonymousId+"&ref_inst="+t.instanceId+"&ref_sess="+t.sessionId+"&ref_tenant="+t.tenantId+"&transit_id="+t.transitId;r.href+=i?"&"+a:"?"+a}}}catch(e){(0,s.consoleError)("Invalid query for aliasing - "+e)}};var s=e("../../utils");function d(){var e=_Cohesion,t=e.anonymousId,n=e.instanceId,o=e.sessionId,r=e.tenantId;return{anonymousId:t,instanceId:n,sessionId:o,transitId:e.transitId,tenantId:r}}},{"../../utils":45}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./beam"),r=e("./session"),i=l(e("./emitter")),a=l(e("./events")),s=l(e("./initialize")),d=l(e("./pageView")),u=l(e("./setAuthId")),c=e("./alias");function l(e){return e&&e.__esModule?e:{default:e}}n.default={beam:o.beam,deleteSession:r.deleteSession,setupEngagementTracking:a.default,initialize:s.default,on:i.default,pageView:d.default,setAuthId:u.default,getAliasSet:c.getAliasSet,setAliasQuery:c.setAliasQuery}},{"./alias":30,"./beam":32,"./emitter":34,"./events":35,"./initialize":37,"./pageView":38,"./session":39,"./setAuthId":40}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){window[window._Cohesion.k]("tagular:"+e,t)}},{}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){(function(){var e=null,t=null;void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange");document.addEventListener(t,function(){document[e]?l():p()},!1)})(),window.addEventListener("blur",l),window.addEventListener("focus",p),document.addEventListener("mousemove",p),document.addEventListener("keyup",p),document.addEventListener("touchstart",p),window.addEventListener("scroll",w),window.addEventListener("beforeunload",m),window.addEventListener("pagehide",m),f(),a=setTimeout(l,15e3)};var s=e("./beam"),r=(new Date).getTime(),i=0,o=0,a=null,d=!1,u=0,c=[];function l(){if(d)return!1;d=!0;var e=(new Date).getTime();0===o&&(o=(new Date).getTime());var t=e-o;clearTimeout(a),i+=t,o=0}function f(){d=!1,o=(new Date).getTime()}function p(){o||f(),clearTimeout(a),a=setTimeout(l,15e3)}function m(){if(!_Tagular.engagementSent){_Tagular.engagementSent=!0,l();var e={"@type":"redventures.usertracking.v3.PageEngaged",engagementDuration:i,totalDuration:(new Date).getTime()-r};if(_Cohesion.tagular&&!_Cohesion.tagular.suppressBeam){var t=_Tagular.config.apiHost,n=(0,s.formPayload)(e);if(navigator&&navigator.sendBeacon)return n=JSON.stringify(n),navigator.sendBeacon(t+"?k="+window.btoa(_Tagular.config.writeKey),n);n=encodeURIComponent(JSON.stringify(n));var o=new XMLHttpRequest;o.open("GET",t+"?data="+n,!1),o.setRequestHeader("Authorization","Basic "+window.btoa(_Tagular.config.writeKey+":")),o.send(null)}else(0,s.beam)(e)}}function w(){p();var e=document,t=e.body,n=e.documentElement,o=Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),r=window.innerHeight||n.clientHeight,i=(t.scrollTop||n.scrollTop)+r,a=25*Math.floor(i/o*100/25);a!==u&&-1===c.indexOf(a)&&(u=a,c.push(u),(0,s.beam)({"@type":"redventures.usertracking.v3.PageScrolled",scrollDistance:u}))}},{"./beam":32}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},f=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};n.formPayload=g,n.beam=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t;"string"==typeof t[0]&&(o=t.splice(1));var r=f(o,3),i=r[0],a=r[1],s=r[2];!function(e){if(_Tagular.config.beamHook&&"function"==typeof _Tagular.config.beamHook)try{_Tagular.config.beamHook.apply(null,e)}catch(e){(0,p.consoleError)("beam hook function failed: ",e)}}([l({},i)]);var d=g(i,s);if(!_Tagular.config.suppressBeam){var u=_Tagular.config.apiHost,c={Authorization:"Basic "+window.btoa(_Tagular.config.writeKey+":")};(0,m.postJSON)(u,d,c,{completed:function(e){window[window._Cohesion.k].emit("tagular:eventCompleted",d,e)},succeeded:function(e){window[window._Cohesion.k].emit("tagular:eventSucceeded",d,e)}})}window[window._Cohesion.k].emit("tagular:eventSent",d),a&&(0,w.renewSession)()};var p=e("../../utils"),m=e("../../utils/ajax"),w=e("./session");function g(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=e["@type"],o=_Tagular.webContext,r=o.anonymousId,i=o.sessionId,a=o.instanceId,s=o.manualInstanceId,d=o.fromManual,u=o.page,c=o.authenticatedUserId;t&&_Tagular.config.writeKey&&!e.webContext&&(e.webContext=_Tagular.webContext);var l={event:n,properties:e,anonymousId:r,timestamp:(new Date).toISOString(),writeKey:_Tagular.config.apiKey,sentAt:(new Date).toISOString(),messageId:(0,p.generateUUID)()};return"v1/t"===_Tagular.config.apiVersion&&(l.context={sessionId:i,instanceId:a,manualInstanceId:s,fromManual:d,page:u,userAgent:navigator.userAgent,library:{name:"analytics.js"}}),c&&(l.context.authenticatedUserId=c),delete l.properties["@type"],(0,p.scrubInvalids)(l)}_Tagular.universalCB=function(e){return e.success?e:(0,p.consoleError)(e)}},{"../../utils":45,"../../utils/ajax":42,"./session":39}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.renewSession=n.deleteSession=void 0;var u=e("../../utils"),a=e("./beam"),r="tglr_sess_id",c=(0,u.fetchCookie)("tglr_req"),l=(0,u.fetchCookie)("tglr_ref");function i(e,t,n,o){var r=_Tagular.config.sessionLength||18e5;if(_Tagular.config.multiparty){var i=(0,u.fetchCookie)("tglr_transit_id");if(i)window._Cohesion.transitId=i;else i=(0,u.parseQuery)(window.location.href).transit_id||(0,u.generateUUID)(),window._Cohesion.transitId=i,(0,u.setCookie)("tglr_transit_id",i,_Tagular.config.cookieDomain,r),(0,a.beam)({"@type":"redventures.usertracking.v3.TransitIdCreated",transitId:i})}(0,u.setCookie)("tglr_sess_id",o,_Tagular.config.cookieDomain,r),(0,u.setCookie)("tglr_sess_count",n,_Tagular.config.cookieDomain,63072e6),(0,u.setCookie)("tglr_req",e,_Tagular.config.cookieDomain,r),(0,u.setCookie)("tglr_ref",t,_Tagular.config.cookieDomain,r)}n.deleteSession=function(){(0,u.deleteCookie)(r)},n.renewSession=function(e){var t=(0,u.fetchCookie)(r),n=+(0,u.fetchCookie)("tglr_sess_count"),o=!0;return(0,u.fetchCookie)("tglr_tenant_id")!==_Cohesion.tenantId&&(o=!1,(0,u.setCookie)("tglr_tenant_id",_Cohesion.tenantId,_Tagular.config.cookieDomain,63072e6)),n||(n=0),!t||e&&function(e){var t=(0,u.fetchCookie)("tglr_virtual_ref"),n=void 0;if(t){var o=t.split(":"),r="",i="";if(o[0]&&(r=decodeURIComponent(o[0])),o[1]&&(i=o[1]),e!==i)return!0;n=(0,u.parseUrl)(r).hostname}else n=(0,u.parseUrl)(document.referrer).hostname;if(!document.referrer)return!1;if(window.location.hostname===n)return!1;var a=_Tagular.config.domainWhitelist;if(Array.isArray(a))for(var s=0;s<a.length;s++)if(n.indexOf(a[s])===n.length-a[s].length)return!1;var d=l&&-1!==/^\S+:\/\//.test(l)?(0,u.parseUrl)(l).hostname:l;return""+decodeURIComponent(window.location.href)+n!=""+c+d}(t)||!o?(t=(0,u.generateUUID)(),n+=1,_Tagular.webContext.sessionId=t,(0,a.beam)({"@type":"redventures.usertracking.v2.SessionStarted",sessionCount:n},!1),i(window.location.href,document.referrer,n,t),window[window._Cohesion.k].emit("tagular:newSession")):i((0,u.fetchCookie)("tglr_req"),(0,u.fetchCookie)("tglr_ref"),n,t),t}},{"../../utils":45,"./beam":32}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if("string"!=typeof e)return(0,o.consoleError)("Invalid Id provided to setAuthId - "+e);_Tagular.webContext.authenticatedUserId=e,window[window._Cohesion.k].emit("tagular:contextCreated")};var o=e("../../utils")},{"../../utils":45}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){_Tagular.config=e,window[window._Cohesion.k].emit("tagular:initialized"),(0,i.default)(!0),(0,a.setCookie)("tglr_anon_id",_Tagular.webContext.anonymousId,_Tagular.config.cookieDomain,63072e6);var t=(0,a.parseQuery)(window.location.href);t.transit_id&&(0,s.beam)({"@type":"redventures.usertracking.v3.TransitIdTracked",correlationId:t.correlation_id,referrerAnon:t.ref_anon,referrerInstance:t.ref_inst,referrerSession:t.ref_sess,referrerTenant:t.ref_tenant,transitId:t.transit_id});window[window._Cohesion.k].emit("tagular:ready")};var o,r=e("./context"),i=(o=r)&&o.__esModule?o:{default:o},a=e("../../utils"),s=e("./beam")},{"../../utils":45,"./beam":32,"./context":33}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e&&(0,i.default)(e);(0,r.default)(!1,!0,t);var n={"@type":"redventures.usertracking.v2.PageViewed",pageName:document.title,newAnonymousId:window._Tagular.newAnonymousId,pageViewIndex:window._Tagular.pageViewIndex};window.performance&&window.performance.timing&&(n.performance=(0,a.default)(["connectEnd","connectStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","domainLookupEnd","domainLookupStart","fetchStart","loadEventEnd","loadEventStart","navigationStart","redirectEnd","redirectStart","requestStart","responseEnd","responseStart","secureConnectionStart","unloadEventEnd","unloadEventStart"],window.performance.timing));(0,o.beam)(n)};var o=e("./beam"),r=s(e("./context")),i=s(e("./setVirtualReferrer")),a=s(e("../../utils/object"));function s(e){return e&&e.__esModule?e:{default:e}}},{"../../utils/object":46,"./beam":32,"./context":33,"./setVirtualReferrer":41}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],o=(0,s.fetchCookie)("tglr_anon_id"),r=(0,s.fetchCookie)("tglr_tenant_id"),i=null;_Tagular.webContext&&(i=_Tagular.webContext.instanceId);_Tagular.webContext={page:{referrer:document.referrer,title:document.title,url:window.location.href},userAgent:navigator.userAgent},_Tagular.newAnonymousId=o?(_Tagular.webContext.anonymousId=o,!1):(_Tagular.webContext.anonymousId=(0,s.generateUUID)(),!0);_Tagular.webContext.instanceId=i||(0,s.generateUUID)(),t?(_Tagular.webContext.manualInstanceId=(0,s.generateUUID)(),_Tagular.webContext.fromManual=!0,_Tagular.pageViewIndex=_Tagular.pageViewIndex?_Tagular.pageViewIndex+1:1,_Tagular.pageViewHistory=_Tagular.pageViewHistory?_Tagular.pageViewHistory:{},_Tagular.pageViewHistory[_Tagular.pageViewIndex]=_Tagular.webContext.instanceId+":"+_Tagular.webContext.manualInstanceId):(_Tagular.webContext.manualInstanceId=null,_Tagular.webContext.fromManual=!1);if(_Tagular.config.authCookie&&"string"==typeof _Tagular.config.authCookie){var a=(0,s.fetchCookie)(_Tagular.config.authCookie);"string"!=typeof a?(0,s.consoleError)("Invalid auth cookie value"):_Tagular.webContext.authenticatedUserId=a}r||(0,s.setCookie)("tglr_tenant_id",_Cohesion.tenantId,_Tagular.config.cookieDomain,63072e6);_Tagular.webContext.sessionId=(0,d.renewSession)(e),window[window._Cohesion.k].emit("tagular:contextCreated",{autoDecision:n})};var s=e("../../utils"),d=e("./session")},{"../../utils":45,"./session":39}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=(0,o.fetchCookie)("tglr_sess_id");(0,o.setCookie)("tglr_virtual_ref",encodeURIComponent(e)+":"+t,_Tagular.config.cookieDomain,36e5)};var o=e("../../utils")},{"../../utils":45}],47:[function(e,t,n){"use strict";e("../../libs/cohesion")},{"../../libs/cohesion":5}]},{},[47]);